<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- 
      This is an HTML comment
      You can write text in a comment and the content won't be visible in the page
    -->

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="https://glitch.com/favicon.ico" />

    <!--
      This is the page head - it contains info the browser uses
      Like the title, which appears on the browser tab but not inside the page
      Further down you'll see the content that displays in the page
    -->
    <title>Results</title>

    <!-- The website stylesheet -->
    <link rel="stylesheet" href="/style.css" />

    <!-- The website JavaScript file -->
    <script src="/script.js" defer></script>
  </head>
  <body>
    <!DOCTYPE html>
    <html lang="en">
      <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Survey Results</title>
        <link rel="stylesheet" href="/style.css" />
      </head>
      <body>
        <div class="wrapper">
          <div class="content">
            <h1>Your Survey Results</h1>
            <p id="resultsOutput"></p>
          </div>
        </div>

        <script>
          // Function to parse query parameters
          function getQueryParams() {
            const params = {};
            const queryString = window.location.search.substring(1);
            const queries = queryString.split("&");

            queries.forEach((query) => {
              const [key, value] = query.split("=");
              params[key] = decodeURIComponent(value);
            });

            return params;
          }

          // Retrieve the parameters
          const params = getQueryParams();

          // Construct the result message
          let resultMessage = `Spending: ${params.spending}<br>`;
          resultMessage += `Electricity Source: ${params.electricity}<br>`;
          resultMessage += `Flights Taken: ${params.flights}<br><br>`;

          // Add custom messages based on the parameters
          if (params.spending === "Less than $200") {
            resultMessage += "You're a savvy spender!";
          } else if (params.spending === "Between $200 to $1,000") {
            resultMessage += "You have a moderate spending habit.";
          } else if (params.spending === "Between $1,000 to $2,000") {
            resultMessage += "Your spending is on the higher side.";
          } else {
            resultMessage += "You have a luxurious spending style!";
          }

          resultMessage += "<br><br>";

          if (params.electricity === "100% clean") {
            resultMessage += "Great job! You're using clean energy.";
          } else if (params.electricity === "50% clean") {
            resultMessage +=
              "You're on the right track, but there's room for improvement.";
          } else {
            resultMessage += "Consider switching to cleaner energy sources.";
          }

          resultMessage += "<br><br>";

          if (params.flights === "Zero") {
            resultMessage += "You're minimizing your carbon footprint!";
          } else if (params.flights === "One to Two") {
            resultMessage += "Moderate travel habits!";
          } else if (params.flights === "Three to Five") {
            resultMessage += "You travel quite a bit!";
          } else {
            resultMessage +=
              "Frequent flyer! Consider eco-friendly travel options.";
          }

          // Display the result in the HTML
          document.getElementById("resultsOutput").innerHTML = resultMessage;
        </script>
      </body>
    </html>
    <!-- The footer holds our remix button — you can keep or delete it ✂ -->
    <footer class="footer"></footer>
  </body>
</html>
